(this["webpackJsonptodo-frontend"]=this["webpackJsonptodo-frontend"]||[]).push([[0],{104:function(e,t,n){},105:function(e,t,n){},152:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(10),o=n.n(c),u=(n(104),n(105),n(11)),i=n.n(u),s=n(17),l=n(38),d=n(189),p=n(188),O=n(191),f=n(185),E=n(184),m=n(183),b=function(e){var t=e.open,n=e.onClose,c=e.onAdd,o=Object(r.useState)(""),u=Object(l.a)(o,2),i=u[0],s=u[1];return a.a.createElement(O.a,{open:t,onClose:function(){return n()},"aria-labelledby":"form-dialog-title"},a.a.createElement(m.a,{id:"form-dialog-title"},"Add"),a.a.createElement(E.a,null,a.a.createElement(p.a,{autoFocus:!0,value:i,onChange:function(e){return s(e.target.value)},margin:"dense",label:"Description",type:"text",fullWidth:!0})),a.a.createElement(f.a,null,a.a.createElement(d.a,{onClick:function(){return n()},color:"primary"},"Cancel"),a.a.createElement(d.a,{onClick:function(){return c(i)},color:"primary"},"Add")))},S=n(186),D=n(156),v=n(90),T=n.n(v),_=n(187),h=n(65),j=n(6),C=n(110),y=function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.get("/api/todo");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.put("/api/todo",{description:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.delete("/api/todo/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(s.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.put("/api/todo/".concat(t,"/status"),{status:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_TODOS"}),e.prev=1,e.next=4,y();case 4:n=e.sent,t({type:"FETCH_TODOS_SUCCESS",todos:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"FETCH_TODOS_FAILED",error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(s.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"ADD_TODO"}),e.prev=1,e.next=4,x(n);case 4:r=e.sent,t({type:"ADD_TODO_SUCCESS",todo:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"ADD_TODO_FAILED",error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e=Object(s.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"DELETE_TODO",payload:n}),e.prev=1,e.next=4,w(n);case 4:t({type:"DELETE_TODO_SUCCESS",id:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t({type:"DELETE_TODO_FAILED",error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=Object(s.a)(i.a.mark((function e(t,n,r){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"SET_TODO_STATUS",payload:{id:n,status:r}}),e.prev=1,e.next=4,A(n,r);case 4:a=e.sent,t({type:"SET_TODO_STATUS_SUCCESS",todo:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"SET_TODO_STATUS_FAILED",error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n,r){return e.apply(this,arguments)}}(),U=function(e,t){switch(t.type){case"FETCH_TODOS":return Object(j.a)(Object(j.a)({},e),{},{fetch:"RUNNING"});case"FETCH_TODOS_SUCCESS":return Object(j.a)(Object(j.a)({},e),{},{todos:t.todos,fetch:"SUCCESS"});case"FETCH_TODOS_FAILED":return Object(j.a)(Object(j.a)({},e),{},{fetch:"FAILED"});case"ADD_TODO":return Object(j.a)(Object(j.a)({},e),{},{adding:"RUNNING"});case"ADD_TODO_SUCCESS":return Object(j.a)(Object(j.a)({},e),{},{todos:[].concat(Object(h.a)(e.todos),[t.todo]),adding:"SUCCESS"});case"ADD_TODO_FAILED":return Object(j.a)(Object(j.a)({},e),{},{adding:"FAILED"});case"DELETE_TODO":return Object(j.a)(Object(j.a)({},e),{},{todos:e.todos.map((function(e){return e.id===t.id?Object(j.a)(Object(j.a)({},e),{},{deleting:"RUNNING"}):e}))});case"DELETE_TODO_SUCCESS":return Object(j.a)(Object(j.a)({},e),{},{todos:e.todos.filter((function(e){return e.id!==t.id}))});case"DELETE_TODO_FAILED":return Object(j.a)(Object(j.a)({},e),{},{todos:e.todos.map((function(e){return e.id===t.id?Object(j.a)(Object(j.a)({},e),{},{deleting:"FAILED"}):e}))});case"SET_TODO_STATUS":return Object(j.a)(Object(j.a)({},e),{},{todos:e.todos.map((function(e){return e.id===t.id?Object(j.a)(Object(j.a)({},e),{},{updating:"RUNNING"}):e}))});case"SET_TODO_STATUS_SUCCESS":return Object(j.a)(Object(j.a)({},e),{},{todos:[].concat(Object(h.a)(e.todos.filter((function(e){return e.id!==t.todo.id}))),[t.todo])});case"SET_TODO_STATUS_FAILED":return Object(j.a)(Object(j.a)({},e),{},{todos:e.todos.map((function(e){return e.id===t.id?Object(j.a)(Object(j.a)({},e),{},{updating:"FAILED"}):e}))});default:return e}},F=a.a.createContext(void 0),L=a.a.createContext(void 0),P=function(e){var t=e.children,n=a.a.useReducer(U,{todos:[]}),r=Object(l.a)(n,2),c=r[0],o=r[1];return a.a.createElement(F.Provider,{value:c},a.a.createElement(L.Provider,{value:o},t))},R=function(){var e=a.a.useContext(L);if(void 0===e)throw new Error("useTodoDispatch must be used within a TodoContextProvider");return e},G=function(e){var t=e.item,n=R();return a.a.createElement(T.a,{style:{margin:"0.2rem"}},a.a.createElement(S.a,null,a.a.createElement(D.a,{variant:"body2",component:"p"},t.description)),a.a.createElement(_.a,null,a.a.createElement(d.a,{size:"small",onClick:function(){return I(n,t.id)}},"Delete"),"OPEN"===t.status&&a.a.createElement(d.a,{size:"small",onClick:function(){return N(n,t.id,"IN_PROGRESS")}},"Progress"),"IN_PROGRESS"===t.status&&a.a.createElement(d.a,{size:"small",onClick:function(){return N(n,t.id,"DONE")}},"Done")))},H=function(e){var t=e.items,n=e.status;return a.a.createElement("div",{style:{display:"flex",flexDirection:"column",flexGrow:1}},a.a.createElement(D.a,{variant:"h5",component:"h2",style:{textAlign:"center"}},z(n)),a.a.createElement("div",{style:{backgroundColor:"#f4f4f4",padding:"1rem",flexGrow:1}},t.filter((function(e){return e.status===n})).map((function(e){return a.a.createElement(G,{key:e.id,item:e})}))))},z=function(e){switch(e){case"OPEN":return"Open";case"IN_PROGRESS":return"In Progress";case"DONE":return"Done";default:return e}},W=function(){var e=function(){var e=a.a.useContext(F);if(void 0===e)throw new Error("useTodoState must be used within a TodoContextProvider");return e}().todos,t=Object(r.useState)(!1),n=Object(l.a)(t,2),c=n[0],o=n[1],u=R();return Object(r.useEffect)((function(){g(u)}),[u]),a.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%"}},a.a.createElement(d.a,{color:"primary",onClick:function(){return o(!0)}},"Add"),a.a.createElement("div",{style:{display:"flex",flexGrow:1}},a.a.createElement(H,{items:e,status:"OPEN"}),a.a.createElement(H,{items:e,status:"IN_PROGRESS"}),a.a.createElement(H,{items:e,status:"DONE"})),c&&a.a.createElement(b,{open:c,onClose:function(){return o(!1)},onAdd:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!1),e.next=3,k(u,t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}))};var B=function(){return a.a.createElement(P,null,a.a.createElement(W,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},99:function(e,t,n){e.exports=n(152)}},[[99,1,2]]]);
//# sourceMappingURL=main.c7d02d10.chunk.js.map